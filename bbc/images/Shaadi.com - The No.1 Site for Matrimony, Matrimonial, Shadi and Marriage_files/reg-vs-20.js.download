var dupEmail="";var chk_form_submit=false;var one_day=1000*60*60*24;var one_month=1000*60*60*24*30;var one_year=1000*60*60*24*30*12+1000*60*60*24*7;var aSelect2Elements=[];var aPlaceholders=new Array();aPlaceholders.email=["Email"];aPlaceholders.password=["Password"];aPlaceholders.first_name=["First Name"];aPlaceholders.last_name=["Last Name"];aPlaceholders.contact_mobile_number=["Mobile No."];aPlaceholders.contact_mobile_std=["Area Code","STD Code"];aPlaceholders.contact_tel_number=["Landline No."];aPlaceholders.contact_tel_std=["Area Code","STD Code"];var aMessages=new Array();aMessages.postedby=new Array();aMessages.postedby["server-side-err"]="Please select your relationship with the person you are registering on the site.";aMessages.postedby["blank"]="Please select your relationship with the person you are registering on the site.";aMessages.email=new Array();aMessages.email["server-side-err"]="Please enter a valid email address to register and receive relevant Matches.";aMessages.email["blank"]="Please enter a valid email address to register and receive relevant Matches.";aMessages.email["invalid"]="Please enter a valid email address to register and receive relevant Matches.";aMessages.email["@shaadi.com"]="Please enter a valid email address to register and receive relevant Matches.";aMessages.email["duplicate_email"]="This email address is already registered with us. <a href='"+NORMALSERVER+"/registration/user/login'>Login</a> to update your profile and find matches.";aMessages.password1=new Array();aMessages.password1["server-side-err"]="Please create a password between 4 to 20 characters. It should not contain spaces or be the same as your email.";aMessages.password1["blank"]="Please create a password between 4 to 20 characters. It should not contain spaces or be the same as your email.";aMessages.password1["s"]="Please create a password between 4 to 20 characters. It should not contain spaces or be the same as your email.";aMessages.password1["."]="Please create a password between 4 to 20 characters. It should not contain spaces or be the same as your email.";aMessages.password1["length < 4"]="Please create a password between 4 to 20 characters. It should not contain spaces or be the same as your email.";aMessages.password1["length > 20"]="Please create a password between 4 to 20 characters. It should not contain spaces or be the same as your email.";aMessages.password1["email password same"]="Please create a password between 4 to 20 characters. It should not contain spaces or be the same as your email.";aMessages.first_name=new Array();aMessages.first_name["server-side-err"]="By default, your full name will not be shown to other members unless you choose to. You can control your privacy 100%.";aMessages.first_name["blank"]="By default, your full name will not be shown to other members unless you choose to. You can control your privacy 100%.";aMessages.first_name["a-z"]="By default, your full name will not be shown to other members unless you choose to. You can control your privacy 100%.";aMessages.first_name["length > 20"]="By default, your full name will not be shown to other members unless you choose to. You can control your privacy 100%.";aMessages.first_name["repetitive > 2"]="By default, your full name will not be shown to other members unless you choose to. You can control your privacy 100%.";aMessages.first_name["repetitive > 1"]="By default, your full name will not be shown to other members unless you choose to. You can control your privacy 100%.";aMessages.first_name["length < 4"]="By default, your full name will not be shown to other members unless you choose to. You can control your privacy 100%.";aMessages.last_name=new Array();aMessages.last_name["server-side-err"]="By default, your full name will not be shown to other members unless you choose to. You can control your privacy 100%.";aMessages.last_name["blank"]="By default, your full name will not be shown to other members unless you choose to. You can control your privacy 100%.";aMessages.last_name["a-z"]="By default, your full name will not be shown to other members unless you choose to. You can control your privacy 100%.";aMessages.last_name["length > 20"]="By default, your full name will not be shown to other members unless you choose to. You can control your privacy 100%.";aMessages.last_name["repetitive > 2"]="By default, your full name will not be shown to other members unless you choose to. You can control your privacy 100%.";aMessages.last_name["repetitive > 1"]="By default, your full name will not be shown to other members unless you choose to. You can control your privacy 100%.";aMessages.last_name["length < 4"]="By default, your full name will not be shown to other members unless you choose to. You can control your privacy 100%.";aMessages.name=new Array();aMessages.name["length < 4"]="By default, your full name will not be shown to other members unless you choose to. You can control your privacy 100%.";aMessages.gender=new Array();aMessages.gender["server-side-err"]="Please select the gender of the person being registered on the site.";aMessages.gender["blank"]=new Array();aMessages.gender["blank"]["Default"]="Please select the gender of the person being registered on the site.";aMessages.gender["blank"]["Self"]="Please select your gender.";aMessages.gender["blank"]["Son"]="Gender of the member is required for registration.";aMessages.gender["blank"]["Daughter"]="Gender of the member is required for registration.";aMessages.gender["blank"]["Brother"]="Gender of the member is required for registration.";aMessages.gender["blank"]["Sister"]="Gender of the member is required for registration.";aMessages.gender["blank"]["Friend"]="Please select your friend's gender.";aMessages.gender["blank"]["Relative"]="Please select your relative's gender.";aMessages.gender["invalid"]="Please choose relevant gender.";aMessages.dateofbirth=new Array();aMessages.dateofbirth["server-side-err"]="Please select the date of birth of the person being registered. This information will not be visible to others.";aMessages.dateofbirth["blank"]=new Array();aMessages.dateofbirth["blank"]["Default"]="Please select the date of birth of the person being registered. This information will not be visible to others.";aMessages.dateofbirth["blank"]["Self"]="Please select your date of birth. This information will not be visible to others.";aMessages.dateofbirth["blank"]["Son"]="Please select your son's date of birth. This information will not be visible to others.";aMessages.dateofbirth["blank"]["Daughter"]="Please select your daughter's date of birth. This information will not be visible to others.";aMessages.dateofbirth["blank"]["Brother"]="Please select your brother's date of birth. This information will not be visible to others.";aMessages.dateofbirth["blank"]["Sister"]="Please select your sister's date of birth. This information will not be visible to others.";aMessages.dateofbirth["blank"]["Friend"]="Please select your friend's date of birth. This information will not be visible to others.";aMessages.dateofbirth["blank"]["Relative"]="Please select your relative's date of birth. This information will not be visible to others.";aMessages.dateofbirth["day"]="The correct date of birth is required for registration.";aMessages.dateofbirth["month"]="The correct date of birth is required for registration.";aMessages.dateofbirth["year"]="The correct date of birth is required for registration.";aMessages.dateofbirth["Invalid"]="Incorrect Date of Birth. Please select the correct Date of Birth of the person being registered.";aMessages.dateofbirth["check if valid error"]="A technical error occurred while checking the Date of Birth. Please select the Date of Birth again.";aMessages.dateofbirth["age < 21"]="The person needs to be atleast 21 years old to register here.";aMessages.dateofbirth["age < 18"]="The person needs to be atleast 18 years old to register here.";aMessages.community=new Array();aMessages.community["server-side-err"]="Please select the religion of the person being registered.";aMessages.community["blank"]=new Array();aMessages.community["blank"]["Default"]="Please select the religion of the person being registered.";aMessages.community["blank"]["Self"]="Please select your religion.";aMessages.community["blank"]["Son"]="Please select the religion of your son.";aMessages.community["blank"]["Daughter"]="Please select the religion of your daughter.";aMessages.community["blank"]["Brother"]="Please select the religion of your brother.";aMessages.community["blank"]["Sister"]="Please select the religion of your sister.";aMessages.community["blank"]["Friend"]="Please select the religion of your friend.";aMessages.community["blank"]["Relative"]="Please select the religion of your relative.";aMessages.mother_tongue=new Array();aMessages.mother_tongue["server-side-err"]="Please select the community the member belongs to.";aMessages.mother_tongue["blank"]=new Array();aMessages.mother_tongue["blank"]["Default"]="Please select the community the member belongs to.";aMessages.mother_tongue["blank"]["Self"]="Please select the community you belong to.";aMessages.mother_tongue["blank"]["Son"]="Please select the community your son belongs to.";aMessages.mother_tongue["blank"]["Daughter"]="Please select the community your daughter belongs to.";aMessages.mother_tongue["blank"]["Brother"]="Please select the community your brother belongs to.";aMessages.mother_tongue["blank"]["Sister"]="Please select the community your sister belongs to.";aMessages.mother_tongue["blank"]["Friend"]="Please select the community your friend belongs to.";aMessages.mother_tongue["blank"]["Relative"]="Please select the community your relative belongs to.";aMessages.countryofresidence=new Array();aMessages.countryofresidence["server-side-err"]="Please select the country that the member currently lives in.";aMessages.countryofresidence["blank"]=new Array();aMessages.countryofresidence["blank"]["Default"]="Please select the country that the member currently lives in.";aMessages.countryofresidence["blank"]["Self"]="Please select the country in which you currently reside.";aMessages.countryofresidence["blank"]["Son"]="Please select the country in which your son currently lives in.";aMessages.countryofresidence["blank"]["Daughter"]="Please select the country in which your daughter currently lives in.";aMessages.countryofresidence["blank"]["Brother"]="Please select the country in which your brother currently lives in.";aMessages.countryofresidence["blank"]["Sister"]="Please select the country in which your sister currently lives in.";aMessages.countryofresidence["blank"]["Friend"]="Please select the country in which your friend currently lives in.";aMessages.countryofresidence["blank"]["Relative"]="Please select the country in which your relative currently lives in.";aMessages.country_code=new Array();aMessages.country_code["server-side-err"]="Please specify country for mobile number of the person who will handle your matrimonial inquiries.";aMessages.country_code["blank"]="Please specify country for mobile number of the person who will handle your matrimonial inquiries.";aMessages.contact_mobile_std=new Array();aMessages.contact_mobile_std["server-side-err"]="Please enter area code for mobile number to proceed further.";aMessages.contact_mobile_std["blank"]="Please enter area code for mobile number to proceed further.";aMessages.contact_mobile_std["NaN"]="Please enter a numeric value to proceed further.";aMessages.contact_mobile_std["invalid"]="Please enter valid area code for mobile number to proceed further.";aMessages.contact_mobile_number=new Array();aMessages.contact_mobile_number["server-side-err"]="A valid mobile number is required for security purposes. You will receive a verification PIN on this number. You can use Privacy Options to decide if others can view your number.";aMessages.contact_mobile_number["blank"]="A valid mobile number is required for security purposes. You will receive a verification PIN on this number. You can use Privacy Options to decide if others can view your number.";aMessages.contact_mobile_number["invalid"]="A valid mobile number is required for security purposes. You will receive a verification PIN on this number. You can use Privacy Options to decide if others can view your number.";aMessages.contact_tel_std=new Array();aMessages.contact_tel_std["server-side-err"]="Please enter area code for landline number to proceed further.";aMessages.contact_tel_std["blank"]="Please enter area code for landline number to proceed further.";aMessages.contact_tel_std["NaN"]="Please enter a numeric value to proceed further.";aMessages.contact_tel_std["invalid"]="Please enter valid area code for landline number to proceed further.";aMessages.contact_tel_number=new Array();aMessages.contact_tel_number["server-side-err"]="A valid landline number is required for security purposes. You can use Privacy Options to decide if others can view your number.";aMessages.contact_tel_number["blank"]="A valid landline number is required for security purposes. You can use Privacy Options to decide if others can view your number.";aMessages.contact_tel_number["invalid"]="A valid landline number is required for security purposes. You can use Privacy Options to decide if others can view your number.";aMessages.confirm_policy=new Array();aMessages.confirm_policy["server-side-err"]="Please read and confirm acceptance to the Privacy Policy and Terms and Conditions to proceed with your registration.";aMessages.confirm_policy["blank"]="Please read and confirm acceptance to the Privacy Policy and Terms and Conditions to proceed with your registration.";var tooltips=new Array();tooltips.email=new Array();tooltips.email["Default"]="A valid email address is required for registration.";tooltips.email["duplicate_email"]="This email address is already registered with us. <a href='"+NORMALSERVER+"/registration/user/login'>Login</a> to update your profile and find matches.";tooltips.password1=new Array();tooltips.password1["Default"]=" Please create a password between 4 to 20 characters. It should not contain spaces or be the same as your email.";tooltips.postedby=new Array();tooltips.postedby["Default"]=" Please select your relationship with the person looking to get married.";tooltips.name=new Array();tooltips.name["Default"]="By default, your full name will not be shown to other members unless you choose to. You can control your privacy 100%.";tooltips.name["Self"]="By default, your full name will not be shown to other members unless you choose to. You can control your privacy 100%.";tooltips.name["Son"]="By default, your full name will not be shown to other members unless you choose to. You can control your privacy 100%.";tooltips.name["Daughter"]="By default, your full name will not be shown to other members unless you choose to. You can control your privacy 100%.";tooltips.name["Brother"]="By default, your full name will not be shown to other members unless you choose to. You can control your privacy 100%.";tooltips.name["Sister"]="By default, your full name will not be shown to other members unless you choose to. You can control your privacy 100%.";tooltips.name["Friend"]="By default, your full name will not be shown to other members unless you choose to. You can control your privacy 100%.";tooltips.name["Relative"]="By default, your full name will not be shown to other members unless you choose to. You can control your privacy 100%.";tooltips.first_name=new Array();tooltips.first_name["Default"]="By default, your full name will not be shown to other members unless you choose to. You can control your privacy 100%.";tooltips.first_name["Self"]="By default, your full name will not be shown to other members unless you choose to. You can control your privacy 100%.";tooltips.first_name["Son"]="By default, your full name will not be shown to other members unless you choose to. You can control your privacy 100%.";tooltips.first_name["Daughter"]="By default, your full name will not be shown to other members unless you choose to. You can control your privacy 100%.";tooltips.first_name["Brother"]="By default, your full name will not be shown to other members unless you choose to. You can control your privacy 100%.";tooltips.first_name["Sister"]="By default, your full name will not be shown to other members unless you choose to. You can control your privacy 100%.";tooltips.first_name["Friend"]="By default, your full name will not be shown to other members unless you choose to. You can control your privacy 100%.";tooltips.first_name["Relative"]="By default, your full name will not be shown to other members unless you choose to. You can control your privacy 100%.";tooltips.last_name=new Array();tooltips.last_name["Default"]="By default, your full name will not be shown to other members unless you choose to. You can control your privacy 100%.";tooltips.last_name["Self"]="By default, your full name will not be shown to other members unless you choose to. You can control your privacy 100%.";tooltips.last_name["Son"]="By default, your full name will not be shown to other members unless you choose to. You can control your privacy 100%.";tooltips.last_name["Daughter"]="By default, your full name will not be shown to other members unless you choose to. You can control your privacy 100%.";tooltips.last_name["Brother"]="By default, your full name will not be shown to other members unless you choose to. You can control your privacy 100%.";tooltips.last_name["Sister"]="By default, your full name will not be shown to other members unless you choose to. You can control your privacy 100%.";tooltips.last_name["Friend"]="By default, your full name will not be shown to other members unless you choose to. You can control your privacy 100%.";tooltips.last_name["Relative"]="By default, your full name will not be shown to other members unless you choose to. You can control your privacy 100%.";tooltips.gender=new Array();tooltips.gender["Default"]="Please select the gender of the person being registered on the site.";tooltips.gender["Self"]="Please select your gender.";tooltips.gender["Son"]="Gender of the member is required for registration.";tooltips.gender["Daughter"]="Gender of the member is required for registration.";tooltips.gender["Brother"]="Gender of the member is required for registration.";tooltips.gender["Sister"]="Gender of the member is required for registration.";tooltips.gender["Friend"]="Please select your friend's gender.";tooltips.gender["Relative"]="Please select your relative's gender.";tooltips.dateofbirth=new Array();tooltips.dateofbirth["Default"]="Please select the date of birth of the person being registered. This information will not be visible to others.";tooltips.dateofbirth["Self"]="Please select your date of birth. This information will not be visible to others.";tooltips.dateofbirth["Son"]="Please select your son's date of birth. This information will not be visible to others.";tooltips.dateofbirth["Daughter"]="Please select your daughter's date of birth. This information will not be visible to others.";tooltips.dateofbirth["Brother"]="Please select your brother's date of birth. This information will not be visible to others.";tooltips.dateofbirth["Sister"]="Please select your sister's date of birth. This information will not be visible to others.";tooltips.dateofbirth["Friend"]="Please select your friend's date of birth. This information will not be visible to others.";tooltips.dateofbirth["Relative"]="Please select your relative's date of birth. This information will not be visible to others.";tooltips.community=new Array();tooltips.community["Default"]="Please select the religion of the person being registered.";tooltips.community["Self"]="Please select your religion.";tooltips.community["Son"]="Please select the religion of your son.";tooltips.community["Daughter"]="Please select the religion of your daughter.";tooltips.community["Brother"]="Please select the religion of your brother.";tooltips.community["Sister"]="Please select the religion of your sister.";tooltips.community["Friend"]="Please select the religion of your friend.";tooltips.community["Relative"]="Please select the religion of your relative.";tooltips.mother_tongue=new Array();tooltips.mother_tongue["Default"]="Please select the community the member belongs to.";tooltips.mother_tongue["Self"]="Please select the community you belong to.";tooltips.mother_tongue["Son"]="Please select the community your son belongs to.";tooltips.mother_tongue["Daughter"]="Please select the community your daughter belongs to.";tooltips.mother_tongue["Brother"]="Please select the community your brother belongs to.";tooltips.mother_tongue["Sister"]="Please select the community your sister belongs to.";tooltips.mother_tongue["Friend"]="Please select the community your friend belongs to.";tooltips.mother_tongue["Relative"]="Please select the community your relative belongs to.";tooltips.countryofresidence=new Array();tooltips.countryofresidence["Default"]="Please select the country that the member currently lives in.";tooltips.countryofresidence["Self"]="Please select the country in which you currently reside.";tooltips.countryofresidence["Son"]="Please select the country in which your son currently lives in.";tooltips.countryofresidence["Daughter"]="Please select the country in which your daughter currently lives in.";tooltips.countryofresidence["Brother"]="Please select the country in which your brother currently lives in.";tooltips.countryofresidence["Sister"]="Please select the country in which your sister currently lives in.";tooltips.countryofresidence["Friend"]="Please select the country in which your friend currently lives in.";tooltips.countryofresidence["Relative"]="Please select the country in which your relative currently lives in.";tooltips.contact_mobile_number=new Array();tooltips.contact_mobile_number["Default"]=" A valid mobile number is required for security purposes. You will receive a verification PIN on this number. You can use Privacy Options to decide if others can view your number.";tooltips.contact_mobile_std=new Array();tooltips.contact_mobile_std["Default"]=" A valid mobile number is required for security purposes. You will receive a verification PIN on this number. You can use Privacy Options to decide if others can view your number.";tooltips.contact_tel_std=new Array();tooltips.contact_tel_std["Default"]="  A valid landline number is required for security purposes. You can use Privacy Options to decide if others can view your number.";tooltips.contact_tel_number=new Array();tooltips.contact_tel_number["Default"]="  A valid landline number is required for security purposes. You can use Privacy Options to decide if others can view your number.";var label=new Array();label.email="<b>Email:</b> ";label.password1="<b>Password:</b> ";label.postedby="<b>Profile for:</b> ";label.name="<b>Name:</b> ";label.first_name="<b>Name:</b> ";label.last_name="<b>Name:</b> ";label.gender="<b>Gender:</b> ";label.dateofbirth="<b>Date of Birth:</b> ";label.year="<b>Date of Birth:</b> ";label.month="<b>Date of Birth:</b> ";label.day="<b>Date of Birth:</b> ";label.community="<b>Religion:</b> ";label.mother_tongue="<b>Mother Tongue:</b> ";label.countryofresidence="<b>Living in:</b> ";label.contact_mobile_number="<b>Mobile No:</b> ";label.contact_mobile_std="<b>Mobile No:</b> ";label.contact_tel_std="<b>Phone No:</b> ";label.contact_tel_number="<b>Phone No:</b> ";var Registration={helper:{calculateAge:function(k,b,d,g,c,m){today=new Date();var l=new Date(k,b-1,d);var h=g;var a=c;var j=m;finalunit=(h=="days")?one_day:(h=="months")?one_month:one_year;a=(a<=0)?1:a*10;if(g!="years"){if(j=="rounddown"){alert(Math.floor((today.getTime()-l.getTime())/(finalunit)*a)/a+" "+h)}else{alert(Math.ceil((today.getTime()-l.getTime())/(finalunit)*a)/a+" "+h)}}else{yearspast=today.getFullYear()-k-1;tail=(today.getMonth()>b-1||today.getMonth()==b-1&&today.getDate()>=d)?1:0;l.setFullYear(today.getFullYear());pastdate2=new Date(today.getFullYear()-1,b-1,d);tail=(tail==1)?tail+Math.floor((today.getTime()-l.getTime())/(finalunit)*a)/a:Math.floor((today.getTime()-pastdate2.getTime())/(finalunit)*a)/a;var e=yearspast+tail}return e},populateYearBasedOnGender:function(){var e=new Date();var b=e.getFullYear();var j=$("#"+Registration.config.formName+" #"+Registration.config.prefix+"year").val();var h=$("#"+Registration.config.formName+" input[name='gender']:checked").val();if(h=="Male"){var c=b-21}else{if(h=="Female"){var c=b-18}else{var c=b-18}}var l=b-70;var g='<option label="'+$("#"+Registration.config.formName+" #"+Registration.config.prefix+"year option:first").text()+'" value="">'+$("#"+Registration.config.formName+" #"+Registration.config.prefix+"year option:first").text()+"</option>";for(var a=c;a>l;a--){g+="<option label='"+a+"' value='"+a;if(a==j){g+="' selected>"}else{g+="'>"}g+=a+"</option>"}$("#"+Registration.config.formName+" #"+Registration.config.prefix+"year").html(g);if($("#"+Registration.config.formName+" #"+Registration.config.prefix+"day").val()!=""&&$("#"+Registration.config.formName+" #"+Registration.config.prefix+"month").val()!=""){Registration.validate.dateofbirth()}if($.inArray(Registration.config.regFormName,["REG_1_5_SOCIAL","REG_1_5_BLANK"])!==-1){var k=$("#"+Registration.config.formName+" #"+Registration.config.prefix+"year").val();if(k==""){k="Year"}$("#"+Registration.config.formName+" #s2id_"+Registration.config.prefix+"year .select2-chosen").html(k)}},replacePassword:function(d){var c=document.createElement("input");c.setAttribute("type","password");c.setAttribute("name",d.getAttribute("name"));c.setAttribute("id",d.getAttribute("id"));d.parentNode.replaceChild(c,d);var a=$(c);var e=$(d);var b=e.data("events");$.each(b,function(g,h){$.each(h,function(k,l){if(l.namespace==""){a.bind(g,l.handler)}})});a.attr("class",e.attr("class"));a.attr("tabindex",2);setTimeout(function(){a.focus()},500)}},country:{residenceChange:function(b){var a=$("#"+Registration.config.formName+" #"+Registration.config.prefix+"country_code").attr("id");if($("#"+a).length){arr=$("#"+Registration.config.formName+" #"+a).val().split("|");document.getElementById(a).options[document.getElementById(a).selectedIndex].text=arr[1]+" ("+arr[0]+")";if(!$.browser.msie){document.getElementById(a).options[document.getElementById(a).selectedIndex].label=arr[1]+" ("+arr[0]+")"}this.countryCodeChange(b)}},countryCodeChange:function(c){var b=$("#"+Registration.config.formName+" #"+Registration.config.prefix+"country_code").attr("id");var a=[];$("#"+b+" option").each(function(){a=$(this).val().split("|");if(c==a[1]){$("#"+b).val($(this).val());return false}});if(Registration.config.select2=="Y"&&$("#"+Registration.config.prefix+"country_code").is("select")){if($.inArray(Registration.config.regFormName,["REG_1_5_SOCIAL","REG_1_5_BLANK"])!==-1){$("#s2id_"+Registration.config.prefix+"country_code .select2-chosen").html(a[1]+" ("+a[0]+")")}else{$("#s2id_"+Registration.config.prefix+"country_code .select2-chosen").html(a[0])}}else{document.getElementById(b).options[document.getElementById(b).selectedIndex].text=a[0];if(!$.browser.msie){document.getElementById(b).options[document.getElementById(b).selectedIndex].label=a[0]}}$("#"+Registration.config.formName+" #"+Registration.config.prefix+"contact_isd").val(a[0]);$("#"+Registration.config.prefix+"contact_mobile_std_span").hide();$("#"+Registration.config.formName+" #"+Registration.config.prefix+"contact_mobile_number").removeClass("reg_std_mobilenum_input").addClass("reg_mobilenum_input");if(c=="India"){$("#"+Registration.config.formName+" #"+Registration.config.prefix+"contact_mobile_std").val(aPlaceholders.contact_mobile_std[1]);$("#"+Registration.config.formName+" #"+Registration.config.prefix+"contact_tel_std").val(aPlaceholders.contact_tel_std[1]);$("#"+Registration.config.formName+" #"+Registration.config.prefix+"contact_mobile_std").data("placeholder",aPlaceholders.contact_mobile_std[1]);$("#"+Registration.config.formName+" #"+Registration.config.prefix+"contact_tel_std").data("placeholder",aPlaceholders.contact_tel_std[1])}else{if(c=="Canada"||c=="USA"){if($("#"+Registration.config.formName+" #"+Registration.config.prefix+"contact_mobile_std").val()==aPlaceholders.contact_mobile_std[1]){$("#"+Registration.config.formName+" #"+Registration.config.prefix+"contact_mobile_std").val(aPlaceholders.contact_mobile_std[0]);$("#"+Registration.config.formName+" #"+Registration.config.prefix+"contact_mobile_std").data("placeholder",aPlaceholders.contact_mobile_std[0])}if($("#"+Registration.config.formName+" #"+Registration.config.prefix+"contact_tel_std").val()==aPlaceholders.contact_tel_std[1]){$("#"+Registration.config.formName+" #"+Registration.config.prefix+"contact_tel_std").val(aPlaceholders.contact_tel_std[0]);$("#"+Registration.config.formName+" #"+Registration.config.prefix+"contact_tel_std").data("placeholder",aPlaceholders.contact_tel_std[0])}}else{$("#"+Registration.config.formName+" #"+Registration.config.prefix+"contact_mobile_std").val(aPlaceholders.contact_mobile_std[0]);$("#"+Registration.config.formName+" #"+Registration.config.prefix+"contact_tel_std").val(aPlaceholders.contact_tel_std[0]);$("#"+Registration.config.formName+" #"+Registration.config.prefix+"contact_mobile_std").data("placeholder",aPlaceholders.contact_mobile_std[0]);$("#"+Registration.config.formName+" #"+Registration.config.prefix+"contact_tel_std").data("placeholder",aPlaceholders.contact_tel_std[0])}}set_max_length(c,Registration.config.prefix)}},validate:{email:function(b){this.hideError("email");this.hideError("duplicate_email");this.errorState.email=false;oRegX=new RegExp(/^[\w_-]+(\.[\w_-]+)*@[\w_-]+(\.[\w_-]+)*\.\w{2,4}$/gi);if(b==""){this.errorState.email=true;this.displayError("email","blank")}else{if(/@shaadi.com/gi.test(b)){this.errorState.email=true;this.displayError("email","@shaadi.com")}else{if(!oRegX.test(b)){this.errorState.email=true;this.displayError("email","invalid")}else{objEmail=this;sUrl=NORMALSERVER+"/ajax/check-if-email-exist/email/"+escape(b)+"/duplicate/1/frompage/reg1";var a=true;if(chk_form_submit){a=false}$.ajax({async:a,type:"GET",url:sUrl,dataType:"json",success:function(d){if(d&&d.error!=0){var c=true;if(d.type=="Duplicate Email"&&chk_form_submit){if(dupEmail!=""&&dupEmail!=b){c=false}}if(dupEmail==""&&d.type=="Duplicate Email"){dupEmail=b}if(c){objEmail.errorState.email=true;objEmail.displayError("email","duplicate_email")}}}})}}}},password1:function(b){this.hideError("password1");this.errorState.password1=false;var a=/^[A-Za-z0-9\.\!@#\$\?\,\%\^&*\(\)\_\-\>\<]*$/;if(b==""||b=="Password"){this.errorState.password1=true;this.displayError("password1","blank")}else{if(!a.test(b)){this.errorState.password1=true;this.displayError("password1",".")}else{if(b.length<4){this.errorState.password1=true;this.displayError("password1","length < 4")}else{if(b.length>20){this.errorState.password1=true;this.displayError("password1","length > 20")}else{if($("#"+Registration.config.formName+" #"+Registration.config.prefix+"email").val().toLowerCase()==b.toLowerCase()){this.errorState.password1=true;this.displayError("password1","email password same")}}}}}},gender:function(a){this.hideError("gender");this.errorState.gender=false;a=$("#"+Registration.config.formName+" input[name='gender']:checked").val();postedby=$("#"+Registration.config.formName+" #"+Registration.config.prefix+"postedby").val();if(a==undefined||a==""){this.errorState.gender=true;if(postedby==""){this.displayError("gender","blank","Default")}else{this.displayError("gender","blank",postedby)}}if((postedby=="Son"||postedby=="Brother")&&a!="Male"){this.errorState.gender=true;this.displayError("gender","invalid")}if((postedby=="Daughter"||postedby=="Sister")&&a!="Female"){this.errorState.gender=true;this.displayError("gender","invalid")}},day:function(a){this.dateofbirth("day")},month:function(a){this.dateofbirth("month")},year:function(a){this.dateofbirth("year")},dateofbirth:function(e){this.hideError("dateofbirth");this.errorState.dateofbirth=false;var a=$("#"+Registration.config.formName+" #"+Registration.config.prefix+"day").val();var h=$("#"+Registration.config.formName+" #"+Registration.config.prefix+"month").val();var c=$("#"+Registration.config.formName+" #"+Registration.config.prefix+"year").val();var g=$("#"+Registration.config.formName+" #"+Registration.config.prefix+"postedby").val();var b=$("#"+Registration.config.formName+" input[name='gender']:checked").val();if(a==""&&h==""&&c==""){this.errorState.dateofbirth=true}else{if(a==""){this.errorState.dateofbirth=true}else{if(h==""){this.errorState.dateofbirth=true}else{if(c==""){this.errorState.dateofbirth=true}else{if(a!=""&&h!=""&&c!=""){age=Registration.helper.calculateAge(c,h,a,"years",0,"rounddown");if((h==4||h==6||h==9||h==11)&&a==31){this.errorState.dateofbirth=true}else{if(h==2){var d=(c%4==0&&(c%100!=0||c%400==0));if(a>29||(a==29&&!d)){this.errorState.dateofbirth=true}}else{if((g=="Son"||g=="Brother"||b=="Male")&&(age<21)){this.errorState.dateofbirth=true}else{if((g=="Daughter"||g=="Sister"||b=="Female")&&(age<18)){this.errorState.dateofbirth=true}}}}}}}}}if(this.errorState.dateofbirth){if(g==""){this.displayError("dateofbirth","blank","Default")}else{this.displayError("dateofbirth","blank",g)}}Registration.trackFieldEfficiency.trackSelect2("Focus OUT",$("#"+Registration.config.formName+" #"+Registration.config.prefix+e))},community:function(b){this.hideError("community");this.errorState.community=false;var a=$("#"+Registration.config.formName+" #"+Registration.config.prefix+"postedby").val();if(b==""){this.errorState.community=true;if(a){this.displayError("community","blank",a)}else{this.displayError("community","blank","Default")}}Registration.trackFieldEfficiency.trackSelect2("Focus OUT",$("#"+Registration.config.formName+" #"+Registration.config.prefix+"community"))},mother_tongue:function(b){this.hideError("mother_tongue");this.errorState.mother_tongue=false;var a=$("#"+Registration.config.formName+" #"+Registration.config.prefix+"postedby").val();if(b==""||b==0){this.errorState.mother_tongue=true;if(a){this.displayError("mother_tongue","blank",a)}else{this.displayError("mother_tongue","blank","Default")}}Registration.trackFieldEfficiency.trackSelect2("Focus OUT",$("#"+Registration.config.formName+" #"+Registration.config.prefix+"mother_tongue"))},countryofresidence:function(b){this.hideError("countryofresidence");this.errorState.countryofresidence=false;var a=$("#"+Registration.config.formName+" #"+Registration.config.prefix+"postedby").val();if(b==""||b==0){this.errorState.countryofresidence=true;if(a){this.displayError("countryofresidence","blank",a)}else{this.displayError("countryofresidence","blank","Default")}}Registration.trackFieldEfficiency.trackSelect2("Focus OUT",$("#"+Registration.config.formName+" #"+Registration.config.prefix+"countryofresidence"))},postedby:function(a){this.hideError("postedby");this.errorState.postedby=false;if(a==""){this.errorState.postedby=true;this.displayError("postedby","blank")}Registration.trackFieldEfficiency.trackSelect2("Focus OUT",$("#"+Registration.config.formName+" #"+Registration.config.prefix+"postedby"))},first_name:function(d){this.hideError("first_name");this.errorState.first_name=false;if(d==""||d=="First Name"){this.errorState.first_name=true;this.displayError("first_name","blank")}else{var c=this.name(d);var a=$("#"+Registration.config.formName+" #"+Registration.config.prefix+"last_name").val();if(c.valid===false&&c.errorCase){this.errorState.first_name=true;this.displayError("first_name",c.errorCase)}else{if(a!=""&&a!="Last Name"){var b=new RegExp(/^[a-z ]*[a-z\.\']{3,}[a-z ]*$/i);if(!b.test(d)&&!b.test(a)){this.errorState.first_name=true;this.errorState.last_name=true;this.displayError("first_name","length < 4");this.displayError("last_name","length < 4")}else{c=this.name(a);if(c.valid!==false&&!c.errorCase){this.errorState.last_name=false;this.hideError("last_name")}}}}}if(!this.errorState.first_name&&this.errorState.last_name){this.displayError("last_name","blank")}Registration.trackFieldEfficiency.trackSelect2("Focus OUT",$("#"+Registration.config.formName+" #"+Registration.config.prefix+"first_name"))},last_name:function(d){this.hideError("last_name");this.errorState.last_name=false;if(d==""||d=="Last Name"){this.errorState.last_name=true;this.displayError("last_name","blank")}else{var c=this.name(d);var b=$("#"+Registration.config.formName+" #"+Registration.config.prefix+"first_name").val();if(c.valid===false&&c.errorCase){this.errorState.last_name=true;this.displayError("last_name",c.errorCase)}else{if(b!=""&&b!="First Name"){var a=new RegExp(/^[a-z ]*[a-z\.\']{3,}[a-z ]*$/i);if(!a.test(d)&&!a.test(b)){this.errorState.last_name=true;this.errorState.first_name=true;this.displayError("last_name","length < 4");this.displayError("first_name","length < 4")}else{c=this.name(b);if(c.valid!==false&&!c.errorCase){this.errorState.first_name=false;this.hideError("first_name")}}}}}if(this.errorState.first_name&&!this.errorState.last_name){this.displayError("first_name","blank")}},name:function(d){var a=new RegExp(/^[a-z \']+$/gi);var e=new RegExp(/(.)\1{2,}/i);var g=new RegExp(/(\.){2,}|(\'){2,}/i);var c=true;var b="";if(typeof d=="string"){d=$.trim(d)}if(!a.test(d)){c=false;b="a-z"}else{if(d.length>20){c=false;b="length > 20"}else{if(e.test(d)){c=false;b="repetitive > 2"}else{if(g.test(d)){c=false;b="repetitive > 1"}}}}return{valid:c,errorCase:b}},contact_mobile_std:function(a){this.hideError("contact_mobile_std");this.errorState.contact_mobile_std=false;if(a==""||$.inArray(a,aPlaceholders.contact_mobile_std)!==-1){this.errorState.contact_mobile_std=true;this.displayError("contact_mobile_std","blank")}else{if(!/^\d*$/.test(a)){this.errorState.contact_mobile_std=true;this.displayError("contact_mobile_std","NaN")}else{if(a<1||/^0.*$/.test(a)){this.errorState.contact_mobile_std=true;this.displayError("contact_mobile_std","invalid")}}}},contact_mobile_number:function(b){this.hideError("contact_mobile_number");this.errorState.contact_mobile_number=false;var a=$("#"+Registration.config.formName+" #"+Registration.config.prefix+"country_code").val();if(b==""||b=="Mobile No."){this.errorState.contact_mobile_number=true;this.displayError("contact_mobile_number","blank")}else{if(!/^\d*$/.test(b)){this.errorState.contact_mobile_number=true;this.displayError("contact_mobile_number","blank")}else{if(b<1||/^0.*$/.test(b)){this.errorState.contact_mobile_number=true;this.displayError("contact_mobile_number","invalid")}else{if(a=="+91|India"&&b.length<10){this.errorState.contact_mobile_number=true;this.displayError("contact_mobile_number","invalid")}else{if(a=="+65|Singapore"&&b.length<8){this.errorState.contact_mobile_number=true;this.displayError("contact_mobile_number","invalid")}else{if(b.length<7){this.errorState.contact_mobile_number=true;this.displayError("contact_mobile_number","invalid")}}}}}}},contact_tel_std:function(a){this.hideError("contact_tel_std");this.errorState.contact_tel_std=false;if(a==""||$.inArray(a,aPlaceholders.contact_tel_std)!==-1){this.errorState.contact_tel_std=true;this.displayError("contact_tel_std","blank")}else{if(!/^\d*$/.test(a)){this.errorState.contact_tel_std=true;this.displayError("contact_tel_std","NaN")}else{if(a<1||/^0.*$/.test(a)){this.errorState.contact_tel_std=true;this.displayError("contact_tel_std","invalid")}}}},contact_tel_number:function(b){this.hideError("contact_tel_number");this.errorState.contact_tel_number=false;var a=$("#"+Registration.config.formName+" #"+Registration.config.prefix+"country_code").val();if(b==""||b=="Mobile No."){this.errorState.contact_tel_number=true;this.displayError("contact_tel_number","blank")}else{if(!/^\d*$/.test(b)){this.errorState.contact_tel_number=true;this.displayError("contact_tel_number","invalid")}else{if(b<1||/^0.*$/.test(b)){this.errorState.contact_tel_number=true;this.displayError("contact_tel_number","invalid")}else{if(a=="+91|India"&&b.length<6){this.errorState.contact_tel_number=true;this.displayError("contact_tel_number","invalid")}else{if(a=="+65|Singapore"&&b.length<8){this.errorState.contact_tel_number=true;this.displayError("contact_tel_number","invalid")}else{if((a=="+1|Canada"||a=="+1|USA")&&b.length<7){this.errorState.contact_tel_number=true;this.displayError("contact_tel_number","invalid")}else{if(b.length<5){this.errorState.contact_tel_number=true;this.displayError("contact_tel_number","invalid")}}}}}}}},confirm_policy:function(a){if(!$("#"+Registration.config.formName+" #"+Registration.config.prefix+"confirm_policy:checked").size()){alert("Please read and confirm acceptance to the Privacy Policy and Terms and Conditions to proceed with your registration.");this.errorState.confirm_policy=true}},displayError:function(b,a){if(a===undefined){a="Default"}if(b=="day"||b=="month"||b=="year"){b="dateofbirth"}$("#"+Registration.config.prefix+this.errorContainerMap[b]).addClass("common_error");this.manipulateErrorMsg(b);this.manipulateErrorDiv(b,a);argv=[].slice.call(arguments);this.errorState[b]=a;if(argv.length===3){$("#errmsg_"+Registration.config.prefix+b).html(label[b]+aMessages[b][a][argv[2]]);this.errorStack.push({field:b,errmsg:aMessages[b][a][argv[2]]})}else{$("#errmsg_"+Registration.config.prefix+b).html(label[b]+aMessages[b][a]);this.errorStack.push({field:b,errmsg:aMessages[b][a]})}},setPositions:function(j){var a="";if($("#hint_"+Registration.config.prefix+j).css("display")!="none"){a="arrow_hint";var g="hint_";var b="hint_wrapper"}else{if($("#error_"+Registration.config.prefix+j).css("display")!="none"){a="error_tooltip_arrow";var g="error_";var b="error_tooltip_wrapper"}}if(a!=""){var l=j;if(j=="dateofbirth"){l="year"}var k=$("#"+Registration.config.prefix+l);if(l=="mother_tongue"&&$("#"+Registration.config.prefix+l).attr("type")=="hidden"){if($.inArray(Registration.config.regFormName,["REG_1_5_SOCIAL","REG_1_5_BLANK"])!==-1){l="mother_tongue_select"}var k=$("#"+Registration.config.prefix+l+"_select")}var e=k.outerHeight();if(Registration.config.select2=="Y"&&$("#"+Registration.config.prefix+l).is("select")){var e=$("#s2id_"+Registration.config.prefix+l).outerHeight()}var c=$("."+a).css("height");c=parseInt(c);var d=$("#"+g+Registration.config.prefix+j+" ."+b).outerHeight();var h=Math.floor((d-e)/2);var m=Math.floor((d-c)/2);if(h<0){h=Math.abs(h);$("#"+g+Registration.config.prefix+j).css("top",h+"px")}else{$("#"+g+Registration.config.prefix+j).css("top","-"+h+"px")}$("#"+g+Registration.config.prefix+j+" ."+a).css("top",m+"px")}$(".social_btn_wrapper #hpage_lnked_wrap").hide()},manipulateErrorDiv:function(b,a){switch(b){case"email":if(a=="duplicate_email"){$("#"+Registration.config.formName+" #"+this.errorClassMap[b]).hide();$("#"+Registration.config.formName+" #"+this.errorClassMap[a]).show()}else{$("#"+Registration.config.formName+" #"+this.errorClassMap.duplicate_email).hide();$("#"+Registration.config.formName+" #"+this.errorClassMap[b]).show()}break;default:$("#"+Registration.config.formName+" #"+this.errorClassMap[b]).show();break}},manipulateErrorMsg:function(b){var a=$("#"+this.errorClassMap[b]+" .err_text");switch(b){case"first_name":case"last_name":if(this.errorState.first_name&&this.errorState.last_name){a.html("Please specify valid full name")}else{if(!this.errorState.first_name&&this.errorState.last_name){a.html("Please specify valid full name")}else{if(this.errorState.first_name&&!this.errorState.last_name){a.html("Please specify valid full name")}}}break}},hideError:function(a){$("#"+Registration.config.prefix+this.errorContainerMap[a]).removeClass("common_error");$("#"+Registration.config.formName+" #"+this.errorClassMap[a]).hide()},errorContainerMap:{email:"email",duplicate_email:"email",password1:"password1",postedby:"postedby_error",first_name:"first_name",last_name:"last_name",gender:"gender_error",day:"dob_error",month:"dob_error",year:"dob_error",dateofbirth:"dob_error",community:"community_error",mother_tongue:"mother_tongue_error",countryofresidence:"countryofresidence_error",contact_mobile_std:"contact_mobile_std",contact_mobile_number:"contact_mobile_number",contact_tel_std:"contact_tel_std",contact_tel_number:"contact_tel_number"},errorClassMap:{email:"err_text_email",duplicate_email:"err_text_duplicate_email",password1:"err_text_password1",postedby:"err_text_postedby",first_name:"err_name",last_name:"err_name",gender:"err_text_gender",day:"err_text_dateofbirth",month:"err_text_dateofbirth",year:"err_text_dateofbirth",dateofbirth:"err_text_dateofbirth",community:"err_text_community",mother_tongue:"err_text_mother_tongue",countryofresidence:"err_text_countryofresidence",contact_mobile_std:"err_text_phone",contact_mobile_number:"err_text_phone",contact_tel_std:"err_text_phone",contact_tel_number:"err_text_phone"},errorState:{email:false,password1:false,postedby:false,first_name:false,last_name:false,gender:false,day:false,month:false,year:false,mother_tongue:false,countryofresidence:false,contact_mobile_std:false,contact_mobile_number:false,contact_tel_std:false,contact_tel_number:false,confirm_policy:false,layer_email:false,layer_password1:false,layer_postedby:false,layer_first_name:false,layer_last_name:false,layer_gender:false,layer_day:false,layer_month:false,layer_year:false,layer_mother_tongue:false,layer_countryofresidence:false,layer_contact_mobile_std:false,layer_contact_mobile_number:false,layer_contact_tel_std:false,layer_contact_tel_number:false,layer_confirm_policy:false},resetErrorState:function(){for(f in this.errorState){this.errorState[f]=false}},errorStack:[]},trackFieldEfficiency:{track:function(a,b){if(Registration.config.formEfficiencyTracking=="Y"){var d="N";switch(b.attr("name")){case"day":case"month":case"year":if(Registration.validate.errorState.dateofbirth){d="Y"}break;default:if(Registration.validate.errorState[b.attr("name")]){d="Y"}break}var c="";switch(b.attr("type")){case"checkbox":case"radio":if($("#"+Registration.config.formName+" input[name='"+b.attr("name")+"']").is(":checked")){c=$("#"+Registration.config.formName+" input[name="+b.attr("name")+"]:checked").val()}break;default:c=b.val();break}if(c!=""){switch(b.attr("id")){case"email":if(typeof aPlaceholders.email!="string"&&$.isArray(aPlaceholders.email)&&$.inArray(c,aPlaceholders.email)!==-1){c=""}var e=c.split("@");if(e.length>1){c=e[0].replace(e[0],this.getReplacingVal(e[0].length)+"@"+e[1])}else{c=c.replace(c,this.getReplacingVal(c.length))}break;case"password1":if(typeof aPlaceholders.password!="string"&&$.isArray(aPlaceholders.password)&&$.inArray(c,aPlaceholders.password)!==-1){c=""}c=c.replace(c,this.getReplacingVal(c.length));break}}$.ajax({url:NORMALSERVER+"/ajax/track-field-efficiency",data:"from_page=reg1&form_name="+encodeURIComponent($("#"+Registration.config.formName+" input[name='form_name']").val())+"&field_name="+encodeURIComponent(b.attr("id"))+"&event_name="+encodeURIComponent(a)+"&field_value="+encodeURIComponent(c)+"&is_error_flag="+encodeURIComponent(d),cache:false,success:function(g){}})}},getReplacingVal:function(b){var a="";for(i=0;i<b;i++){a+="*"}return a},bindTrackFieldEfficiency:function(){$("#"+Registration.config.formName+" input").each(function(a){if($(this).attr("name")&&$(this).attr("id")){if($(this).attr("name")!="counter1"&&$(this).attr("id").substring(0,13)!="ddSelOptText_"){switch($(this).attr("type")){case"text":case"checkbox":case"password":case"radio":$(this).focusin(function(){Registration.trackFieldEfficiency.track("Focus IN",$(this))});$(this).blur(function(){Registration.trackFieldEfficiency.track("Focus OUT",$(this))});break}}}});$("#"+Registration.config.formName+" select").each(function(a){if(Registration.config.select2=="Y"&&$("#"+Registration.config.prefix+$(this).attr("id")).is("select")){$(this).on("select2-focus",function(b){Registration.trackFieldEfficiency.track("Focus IN",$(this))})}else{$(this).focusin(function(){Registration.trackFieldEfficiency.track("Focus IN",$(this))});$(this).blur(function(){Registration.trackFieldEfficiency.track("Focus OUT",$(this))})}});$("#"+Registration.config.formName+" textarea").each(function(a){$(this).focusin(function(){Registration.trackFieldEfficiency.track("Focus IN",$(this))});$(this).blur(function(){Registration.trackFieldEfficiency.track("Focus OUT",$(this))})})},trackSelect2:function(a,b){if(Registration.config.select2=="Y"&&$("#"+Registration.config.prefix+b.attr("id")).is("select")&&!chk_form_submit){Registration.trackFieldEfficiency.track(a,b)}}},config:{allowSubmitWithoutValidation:"N",trackErrors:"Y",formEfficiencyTracking:"N",formName:"frm_registration",prefix:"",regFormName:"",select2:"N"},init:function(a){$.extend(Registration.config,a)}};var RegistrationLayer={helper:{calculateAge:function(k,b,d,g,c,m){today=new Date();var l=new Date(k,b-1,d);var h=g;var a=c;var j=m;finalunit=(h=="days")?one_day:(h=="months")?one_month:one_year;a=(a<=0)?1:a*10;if(g!="years"){if(j=="rounddown"){alert(Math.floor((today.getTime()-l.getTime())/(finalunit)*a)/a+" "+h)}else{alert(Math.ceil((today.getTime()-l.getTime())/(finalunit)*a)/a+" "+h)}}else{yearspast=today.getFullYear()-k-1;tail=(today.getMonth()>b-1||today.getMonth()==b-1&&today.getDate()>=d)?1:0;l.setFullYear(today.getFullYear());pastdate2=new Date(today.getFullYear()-1,b-1,d);tail=(tail==1)?tail+Math.floor((today.getTime()-l.getTime())/(finalunit)*a)/a:Math.floor((today.getTime()-pastdate2.getTime())/(finalunit)*a)/a;var e=yearspast+tail}return e},populateYearBasedOnGender:function(){var j=new Date();var b=j.getFullYear();var h=$("#"+RegistrationLayer.config.formName+" #"+RegistrationLayer.config.prefix+"year").val();var e=$("#"+RegistrationLayer.config.formName+" input[name='gender']:checked").val();if(e=="Male"){var a=b-21}else{if(e=="Female"){var a=b-18}else{var a=b-18}}var k=b-70;var g='<option label="'+$("#"+RegistrationLayer.config.formName+" #"+RegistrationLayer.config.prefix+"year option:first").text()+'" value="">'+$("#"+RegistrationLayer.config.formName+" #"+RegistrationLayer.config.prefix+"year option:first").text()+"</option>";for(var c=a;c>k;c--){g+="<option label='"+c+"' value='"+c;if(c==h){g+="' selected>"}else{g+="'>"}g+=c+"</option>"}$("#"+RegistrationLayer.config.formName+" #"+RegistrationLayer.config.prefix+"year").html(g);if($("#"+RegistrationLayer.config.formName+" #"+RegistrationLayer.config.prefix+"day").val()!=""&&$("#"+RegistrationLayer.config.formName+" #"+RegistrationLayer.config.prefix+"month").val()!=""){RegistrationLayer.validate.dateofbirth()}},replacePassword:function(d){var c=document.createElement("input");c.setAttribute("type","password");c.setAttribute("name",d.getAttribute("name"));c.setAttribute("id",d.getAttribute("id"));d.parentNode.replaceChild(c,d);var a=$(c);var e=$(d);var b=e.data("events");$.each(b,function(g,h){$.each(h,function(k,l){if(l.namespace==""){a.bind(g,l.handler)}})});a.attr("class",e.attr("class"));a.attr("tabindex",2);setTimeout(function(){a.focus()},500)}},country:{residenceChange:function(b){var a=$("#"+RegistrationLayer.config.formName+" #"+RegistrationLayer.config.prefix+"country_code").attr("id");if($("#"+a).length){arr=$("#"+RegistrationLayer.config.formName+" #"+a).val().split("|");document.getElementById(a).options[document.getElementById(a).selectedIndex].text=arr[1]+" ("+arr[0]+")";if(!$.browser.msie){document.getElementById(a).options[document.getElementById(a).selectedIndex].label=arr[1]+" ("+arr[0]+")"}this.countryCodeChange(b)}},countryCodeChange:function(c){var b=$("#"+RegistrationLayer.config.formName+" #"+RegistrationLayer.config.prefix+"country_code").attr("id");var a=[];$("#"+b+" option").each(function(){a=$(this).val().split("|");if(c==a[1]){$("#"+b).val($(this).val());return false}});document.getElementById(b).options[document.getElementById(b).selectedIndex].text=a[0];if(!$.browser.msie){document.getElementById(b).options[document.getElementById(b).selectedIndex].label=a[0]}$("#"+RegistrationLayer.config.formName+" #"+RegistrationLayer.config.prefix+"contact_isd").val(a[0]);$("#"+RegistrationLayer.config.prefix+"contact_mobile_std_span").hide();$("#"+RegistrationLayer.config.formName+" #"+RegistrationLayer.config.prefix+"contact_mobile_number").removeClass("reg_std_mobilenum_input").addClass("reg_mobilenum_input");if(c=="India"){$("#"+RegistrationLayer.config.formName+" #"+RegistrationLayer.config.prefix+"contact_mobile_std").val(aPlaceholders.contact_mobile_std[1]);$("#"+RegistrationLayer.config.formName+" #"+RegistrationLayer.config.prefix+"contact_tel_std").val(aPlaceholders.contact_tel_std[1]);$("#"+RegistrationLayer.config.formName+" #"+RegistrationLayer.config.prefix+"contact_mobile_std").data("placeholder",aPlaceholders.contact_mobile_std[1]);$("#"+RegistrationLayer.config.formName+" #"+RegistrationLayer.config.prefix+"contact_tel_std").data("placeholder",aPlaceholders.contact_tel_std[1])}else{if(c=="Canada"||c=="USA"){if($("#"+RegistrationLayer.config.formName+" #"+RegistrationLayer.config.prefix+"contact_mobile_std").val()==aPlaceholders.contact_mobile_std[1]){$("#"+RegistrationLayer.config.formName+" #"+RegistrationLayer.config.prefix+"contact_mobile_std").val(aPlaceholders.contact_mobile_std[0]);$("#"+RegistrationLayer.config.formName+" #"+RegistrationLayer.config.prefix+"contact_mobile_std").data("placeholder",aPlaceholders.contact_mobile_std[0])}if($("#"+RegistrationLayer.config.formName+" #"+RegistrationLayer.config.prefix+"contact_tel_std").val()==aPlaceholders.contact_tel_std[1]){$("#"+RegistrationLayer.config.formName+" #"+RegistrationLayer.config.prefix+"contact_tel_std").val(aPlaceholders.contact_tel_std[0]);$("#"+RegistrationLayer.config.formName+" #"+RegistrationLayer.config.prefix+"contact_tel_std").data("placeholder",aPlaceholders.contact_tel_std[0])}}else{$("#"+RegistrationLayer.config.formName+" #"+RegistrationLayer.config.prefix+"contact_mobile_std").val(aPlaceholders.contact_mobile_std[0]);$("#"+RegistrationLayer.config.formName+" #"+RegistrationLayer.config.prefix+"contact_tel_std").val(aPlaceholders.contact_tel_std[0]);$("#"+RegistrationLayer.config.formName+" #"+RegistrationLayer.config.prefix+"contact_mobile_std").data("placeholder",aPlaceholders.contact_mobile_std[0]);$("#"+RegistrationLayer.config.formName+" #"+RegistrationLayer.config.prefix+"contact_tel_std").data("placeholder",aPlaceholders.contact_tel_std[0])}}set_max_length(c,RegistrationLayer.config.prefix)}},validate:{email:function(b){this.hideError("email");this.hideError("duplicate_email");this.errorState.email=false;oRegX=new RegExp(/^[\w_-]+(\.[\w_-]+)*@[\w_-]+(\.[\w_-]+)*\.\w{2,4}$/gi);if(b==""){this.errorState.email=true;this.displayError("email","blank")}else{if(/@shaadi.com/gi.test(b)){this.errorState.email=true;this.displayError("email","@shaadi.com")}else{if(!oRegX.test(b)){this.errorState.email=true;this.displayError("email","invalid")}else{objEmail=this;sUrl=NORMALSERVER+"/ajax/check-if-email-exist/email/"+escape(b)+"/duplicate/1/frompage/reg1";var a=true;if(chk_form_submit){a=false}$.ajax({async:a,type:"GET",url:sUrl,dataType:"json",success:function(d){if(d&&d.error!=0){var c=true;if(d.type=="Duplicate Email"&&chk_form_submit){if(dupEmail!=""&&dupEmail!=b){c=false}}if(dupEmail==""&&d.type=="Duplicate Email"){dupEmail=b}if(c){objEmail.errorState.email=true;objEmail.displayError("email","duplicate_email")}}}})}}}},password1:function(b){this.hideError("password1");this.errorState.password1=false;var a=/^[A-Za-z0-9\.\!@#\$\?\,\%\^&*\(\)\_\-\>\<]*$/;if(b==""||b=="Password"){this.errorState.password1=true;this.displayError("password1","blank")}else{if(!a.test(b)){this.errorState.password1=true;this.displayError("password1",".")}else{if(b.length<4){this.errorState.password1=true;this.displayError("password1","length < 4")}else{if(b.length>20){this.errorState.password1=true;this.displayError("password1","length > 20")}else{if($("#"+RegistrationLayer.config.formName+" #"+RegistrationLayer.config.prefix+"email").val().toLowerCase()==b.toLowerCase()){this.errorState.password1=true;this.displayError("password1","email password same")}}}}}},gender:function(a){this.hideError("gender");this.errorState.gender=false;a=$("#"+RegistrationLayer.config.formName+" input[name='gender']:checked").val();postedby=$("#"+RegistrationLayer.config.formName+" #"+RegistrationLayer.config.prefix+"postedby").val();if(a==undefined||a==""){this.errorState.gender=true;if(postedby==""){this.displayError("gender","blank","Default")}else{this.displayError("gender","blank",postedby)}}if((postedby=="Son"||postedby=="Brother")&&a!="Male"){this.errorState.gender=true;this.displayError("gender","invalid")}if((postedby=="Daughter"||postedby=="Sister")&&a!="Female"){this.errorState.gender=true;this.displayError("gender","invalid")}},day:function(a){this.dateofbirth("day")},month:function(a){this.dateofbirth("month")},year:function(a){this.dateofbirth("year")},dateofbirth:function(e){this.hideError("dateofbirth");this.errorState.dateofbirth=false;var a=$("#"+RegistrationLayer.config.formName+" #"+RegistrationLayer.config.prefix+"day").val();var h=$("#"+RegistrationLayer.config.formName+" #"+RegistrationLayer.config.prefix+"month").val();var c=$("#"+RegistrationLayer.config.formName+" #"+RegistrationLayer.config.prefix+"year").val();var g=$("#"+RegistrationLayer.config.formName+" #"+RegistrationLayer.config.prefix+"postedby").val();var b=$("#"+RegistrationLayer.config.formName+" input[name='gender']:checked").val();if(a==""&&h==""&&c==""){this.errorState.dateofbirth=true}else{if(a==""){this.errorState.dateofbirth=true}else{if(h==""){this.errorState.dateofbirth=true}else{if(c==""){this.errorState.dateofbirth=true}else{if(a!=""&&h!=""&&c!=""){age=RegistrationLayer.helper.calculateAge(c,h,a,"years",0,"rounddown");if((h==4||h==6||h==9||h==11)&&a==31){this.errorState.dateofbirth=true}else{if(h==2){var d=(c%4==0&&(c%100!=0||c%400==0));if(a>29||(a==29&&!d)){this.errorState.dateofbirth=true}}else{if((g=="Son"||g=="Brother"||b=="Male")&&(age<21)){this.errorState.dateofbirth=true}else{if((g=="Daughter"||g=="Sister"||b=="Female")&&(age<18)){this.errorState.dateofbirth=true}}}}}}}}}if(this.errorState.dateofbirth){if(g==""){this.displayError("dateofbirth","blank","Default")}else{this.displayError("dateofbirth","blank",g)}}},community:function(b){this.hideError("community");this.errorState.community=false;var a=$("#"+RegistrationLayer.config.formName+" #"+RegistrationLayer.config.prefix+"postedby").val();if(b==""){this.errorState.community=true;if(a){this.displayError("community","blank",a)}else{this.displayError("community","blank","Default")}}},mother_tongue:function(b){this.hideError("mother_tongue");this.errorState.mother_tongue=false;var a=$("#"+RegistrationLayer.config.formName+" #"+RegistrationLayer.config.prefix+"postedby").val();if(b==""||b==0){this.errorState.mother_tongue=true;if(a){this.displayError("mother_tongue","blank",a)}else{this.displayError("mother_tongue","blank","Default")}}},countryofresidence:function(b){this.hideError("countryofresidence");this.errorState.countryofresidence=false;var a=$("#"+RegistrationLayer.config.formName+" #"+RegistrationLayer.config.prefix+"postedby").val();if(b==""||b==0){this.errorState.countryofresidence=true;if(a){this.displayError("countryofresidence","blank",a)}else{this.displayError("countryofresidence","blank","Default")}}},postedby:function(a){this.hideError("postedby");this.errorState.postedby=false;if(a==""){this.errorState.postedby=true;this.displayError("postedby","blank")}},first_name:function(c){this.hideError("first_name");this.errorState.first_name=false;if(c==""||c=="First Name"){this.errorState.first_name=true;this.displayError("first_name","blank")}else{var b=this.name(c);var a=$("#"+RegistrationLayer.config.formName+" #"+RegistrationLayer.config.prefix+"last_name").val();if(b.valid===false&&b.errorCase){this.errorState.first_name=true;this.displayError("first_name",b.errorCase)}else{if(a!=""&&a!="Last Name"){var d=c+a;if(d.length<4){this.errorState.first_name=true;this.errorState.last_name=true;this.displayError("first_name","length < 4");this.displayError("last_name","length < 4")}}}}if(!this.errorState.first_name&&this.errorState.last_name){this.displayError("last_name","blank")}},last_name:function(c){this.hideError("last_name");this.errorState.last_name=false;if(c==""||c=="Last Name"){this.errorState.last_name=true;this.displayError("last_name","blank")}else{var b=this.name(c);var a=$("#"+RegistrationLayer.config.formName+" #"+RegistrationLayer.config.prefix+"first_name").val();if(b.valid===false&&b.errorCase){this.errorState.last_name=true;this.displayError("last_name",b.errorCase)}else{if(a!=""&&a!="First Name"){var d=c+a;if(d.length<4){this.errorState.last_name=true;this.errorState.first_name=true;this.displayError("last_name","length < 4");this.displayError("first_name","length < 4")}}}}if(this.errorState.first_name&&!this.errorState.last_name){this.displayError("first_name","blank")}},name:function(d){var a=new RegExp(/^[a-z \.\']+$/gi);var e=new RegExp(/(.)\1{2,}/i);var g=new RegExp(/(\.){2,}|(\'){2,}/i);var c=true;var b="";if(typeof d=="string"){d=$.trim(d)}if(!a.test(d)){c=false;b="a-z"}else{if(d.length>20){c=false;b="length > 20"}else{if(e.test(d)){c=false;b="repetitive > 2"}else{if(g.test(d)){c=false;b="repetitive > 1"}}}}return{valid:c,errorCase:b}},contact_mobile_std:function(a){this.hideError("contact_mobile_std");this.errorState.contact_mobile_std=false;if(a==""||$.inArray(a,aPlaceholders.contact_mobile_std)!==-1){this.errorState.contact_mobile_std=true;this.displayError("contact_mobile_std","blank")}else{if(!/^\d*$/.test(a)){this.errorState.contact_mobile_std=true;this.displayError("contact_mobile_std","NaN")}else{if(a<1||/^0.*$/.test(a)){this.errorState.contact_mobile_std=true;this.displayError("contact_mobile_std","invalid")}}}},contact_mobile_number:function(b){this.hideError("contact_mobile_number");this.errorState.contact_mobile_number=false;var a=$("#"+RegistrationLayer.config.formName+" #"+RegistrationLayer.config.prefix+"country_code").val();if(b==""||b=="Mobile No."){this.errorState.contact_mobile_number=true;this.displayError("contact_mobile_number","blank")}else{if(!/^\d*$/.test(b)){this.errorState.contact_mobile_number=true;this.displayError("contact_mobile_number","blank")}else{if(b<1||/^0.*$/.test(b)){this.errorState.contact_mobile_number=true;this.displayError("contact_mobile_number","invalid")}else{if(a=="+91|India"&&b.length<10){this.errorState.contact_mobile_number=true;this.displayError("contact_mobile_number","invalid")}else{if(a=="+65|Singapore"&&b.length<8){this.errorState.contact_mobile_number=true;this.displayError("contact_mobile_number","invalid")}else{if(b.length<7){this.errorState.contact_mobile_number=true;this.displayError("contact_mobile_number","invalid")}}}}}}},contact_tel_std:function(a){this.hideError("contact_tel_std");this.errorState.contact_tel_std=false;if(a==""||$.inArray(a,aPlaceholders.contact_tel_std)!==-1){this.errorState.contact_tel_std=true;this.displayError("contact_tel_std","blank")}else{if(!/^\d*$/.test(a)){this.errorState.contact_tel_std=true;this.displayError("contact_tel_std","NaN")}else{if(a<1||/^0.*$/.test(a)){this.errorState.contact_tel_std=true;this.displayError("contact_tel_std","invalid")}}}},contact_tel_number:function(b){this.hideError("contact_tel_number");this.errorState.contact_tel_number=false;var a=$("#"+RegistrationLayer.config.formName+" #"+RegistrationLayer.config.prefix+"country_code").val();if(b==""||b=="Mobile No."){this.errorState.contact_tel_number=true;this.displayError("contact_tel_number","blank")}else{if(!/^\d*$/.test(b)){this.errorState.contact_tel_number=true;this.displayError("contact_tel_number","invalid")}else{if(b<1||/^0.*$/.test(b)){this.errorState.contact_tel_number=true;this.displayError("contact_tel_number","invalid")}else{if(a=="+91|India"&&b.length<6){this.errorState.contact_tel_number=true;this.displayError("contact_tel_number","invalid")}else{if(a=="+65|Singapore"&&b.length<8){this.errorState.contact_tel_number=true;this.displayError("contact_tel_number","invalid")}else{if((a=="+1|Canada"||a=="+1|USA")&&b.length<7){this.errorState.contact_tel_number=true;this.displayError("contact_tel_number","invalid")}else{if(b.length<5){this.errorState.contact_tel_number=true;this.displayError("contact_tel_number","invalid")}}}}}}}},confirm_policy:function(a){if(!$("#"+RegistrationLayer.config.formName+" #"+RegistrationLayer.config.prefix+"confirm_policy:checked").size()){alert("Please read and confirm acceptance to the Privacy Policy and Terms and Conditions to proceed with your registration.");this.errorState.confirm_policy=true}},displayError:function(b,a){if(a===undefined){a="Default"}$("#"+RegistrationLayer.config.prefix+this.errorContainerMap[b]).addClass("common_error");this.manipulateErrorMsg(b);this.manipulateErrorDiv(b,a);argv=[].slice.call(arguments);this.errorState[b]=a;if(argv.length===3){$("#errmsg_"+RegistrationLayer.config.prefix+b).html(label[b]+aMessages[b][a][argv[2]]);this.errorStack.push({field:b,errmsg:aMessages[b][a][argv[2]]})}else{$("#errmsg_"+RegistrationLayer.config.prefix+b).html(label[b]+aMessages[b][a]);this.errorStack.push({field:b,errmsg:aMessages[b][a]})}},setPositions:function(j){var a="";if($("#"+RegistrationLayer.config.prefix+Registration.config.formName).attr("frmregab")){if($("#reg_"+RegistrationLayer.config.prefix+j).css("display")!="none"){a="reg_layer_left_arrow";var g="reg_";var b="reg_tooltip_wrapper"}}else{if($("#hint_"+RegistrationLayer.config.prefix+j).css("display")!="none"){a="arrow_hint";var g="hint_";var b="hint_wrapper"}else{if($("#error_"+RegistrationLayer.config.prefix+j).css("display")!="none"){a="error_tooltip_arrow";var g="error_";var b="error_tooltip_wrapper"}}}if(a!=""){var l=j;if(j=="dateofbirth"){l="year"}var k=$("#"+RegistrationLayer.config.prefix+l);if(k.is("select")&&b=="reg_tooltip_wrapper"){var k=$("#s2id_"+RegistrationLayer.config.prefix+l)}if(l=="mother_tongue"&&$("#"+Registration.config.prefix+l).attr("type")=="hidden"){var k=$("#"+RegistrationLayer.config.prefix+l+"_select")}var e=k.outerHeight();var c=$("."+a).css("height");c=parseInt(c);var d=$("#"+g+RegistrationLayer.config.prefix+j+" ."+b).outerHeight();if(b=="reg_tooltip_wrapper"){c=parseInt("20px");var h=Math.floor((d-e)/2)+10}else{var h=Math.floor((d-e)/2)}var m=Math.floor((d-c)/2);if(h<0){h=Math.abs(h);$("#"+g+RegistrationLayer.config.prefix+j).css("top",h+"px")}else{$("#"+g+RegistrationLayer.config.prefix+j).css("top","-"+h+"px")}$("#"+g+RegistrationLayer.config.prefix+j+" ."+a).css("top",m+"px")}},manipulateErrorDiv:function(b,a){switch(b){case"email":if(a=="duplicate_email"){$("#"+RegistrationLayer.config.formName+" #"+this.errorClassMap[b]).hide();$("#"+RegistrationLayer.config.formName+" #"+this.errorClassMap[a]).show()}else{$("#"+RegistrationLayer.config.formName+" #"+this.errorClassMap.duplicate_email).hide();$("#"+RegistrationLayer.config.formName+" #"+this.errorClassMap[b]).show()}break;default:$("#"+RegistrationLayer.config.formName+" #"+this.errorClassMap[b]).show();break}},manipulateErrorMsg:function(b){var a=$("#"+this.errorClassMap[b]+" .err_text");switch(b){case"first_name":case"last_name":if(this.errorState.first_name&&this.errorState.last_name){a.html("Please specify valid full name")}else{if(!this.errorState.first_name&&this.errorState.last_name){a.html("Please specify valid full name")}else{if(this.errorState.first_name&&!this.errorState.last_name){a.html("Please specify valid full name")}}}break}},hideError:function(a){$("#"+RegistrationLayer.config.prefix+this.errorContainerMap[a]).removeClass("common_error");$("#"+RegistrationLayer.config.formName+" #"+this.errorClassMap[a]).hide()},errorContainerMap:{email:"email",duplicate_email:"email",password1:"password1",postedby:"postedby_error",first_name:"first_name",last_name:"last_name",gender:"gender_error",day:"dob_error",month:"dob_error",year:"dob_error",dateofbirth:"dob_error",community:"community_error",mother_tongue:"mother_tongue_error",countryofresidence:"countryofresidence_error",contact_mobile_std:"contact_mobile_std",contact_mobile_number:"contact_mobile_number",contact_tel_std:"contact_tel_std",contact_tel_number:"contact_tel_number"},errorClassMap:{email:"err_text_email",duplicate_email:"err_text_duplicate_email",password1:"err_text_password1",postedby:"err_text_postedby",first_name:"err_name",last_name:"err_name",gender:"err_text_gender",day:"err_text_dateofbirth",month:"err_text_dateofbirth",year:"err_text_dateofbirth",dateofbirth:"err_text_dateofbirth",community:"err_text_community",mother_tongue:"err_text_mother_tongue",countryofresidence:"err_text_countryofresidence",contact_mobile_std:"err_text_phone",contact_mobile_number:"err_text_phone",contact_tel_std:"err_text_phone",contact_tel_number:"err_text_phone"},errorState:{email:false,password1:false,postedby:false,first_name:false,last_name:false,gender:false,day:false,month:false,year:false,mother_tongue:false,countryofresidence:false,contact_mobile_std:false,contact_mobile_number:false,contact_tel_std:false,contact_tel_number:false,confirm_policy:false,layer_email:false,layer_password1:false,layer_postedby:false,layer_first_name:false,layer_last_name:false,layer_gender:false,layer_day:false,layer_month:false,layer_year:false,layer_mother_tongue:false,layer_countryofresidence:false,layer_contact_mobile_std:false,layer_contact_mobile_number:false,layer_contact_tel_std:false,layer_contact_tel_number:false,layer_confirm_policy:false},resetErrorState:function(){for(f in this.errorState){this.errorState[f]=false}},errorStack:[]},trackFieldEfficiency:{track:function(a,b){if(RegistrationLayer.config.formEfficiencyTracking=="Y"){var d="N";switch(b.attr("name")){case"day":case"month":case"year":if(RegistrationLayer.validate.errorState.dateofbirth){d="Y"}break;default:if(RegistrationLayer.validate.errorState[b.attr("name")]){d="Y"}break}var c="";switch(b.attr("type")){case"checkbox":case"radio":if($("#"+RegistrationLayer.config.formName+" input[name='"+b.attr("name")+"']").is(":checked")){c=$("#"+RegistrationLayer.config.formName+" input[name="+b.attr("name")+"]:checked").val()}break;default:c=b.val();break}if(c!=""){switch(b.attr("id")){case"email":if(typeof aPlaceholders.email!="string"&&$.isArray(aPlaceholders.email)&&$.inArray(c,aPlaceholders.email)!==-1){c=""}var e=c.split("@");if(e.length>1){c=e[0].replace(e[0],this.getReplacingVal(e[0].length)+"@"+e[1])}else{c=c.replace(c,this.getReplacingVal(c.length))}break;case"password1":if(typeof aPlaceholders.password!="string"&&$.isArray(aPlaceholders.password)&&$.inArray(c,aPlaceholders.password)!==-1){c=""}c=c.replace(c,this.getReplacingVal(c.length));break}}$.ajax({url:NORMALSERVER+"/ajax/track-field-efficiency",data:"from_page=reg1&form_name="+encodeURIComponent($("#"+RegistrationLayer.config.formName+" input[name='form_name']").val())+"&field_name="+encodeURIComponent(b.attr("id"))+"&event_name="+encodeURIComponent(a)+"&field_value="+encodeURIComponent(c)+"&is_error_flag="+encodeURIComponent(d),cache:false,success:function(g){}})}},getReplacingVal:function(b){var a="";for(i=0;i<b;i++){a+="*"}return a},bindTrackFieldEfficiency:function(){$("#"+RegistrationLayer.config.formName+" input").each(function(a){if($(this).attr("name")&&$(this).attr("id")){if($(this).attr("name")!="counter1"&&$(this).attr("id").substring(0,13)!="ddSelOptText_"){switch($(this).attr("type")){case"text":case"checkbox":case"password":case"radio":$(this).focusin(function(){RegistrationLayer.trackFieldEfficiency.track("Focus IN",$(this))});$(this).blur(function(){RegistrationLayer.trackFieldEfficiency.track("Focus OUT",$(this))});break}}}});$("#"+RegistrationLayer.config.formName+" select").each(function(a){$(this).focusin(function(){RegistrationLayer.trackFieldEfficiency.track("Focus IN",$(this))});$(this).blur(function(){RegistrationLayer.trackFieldEfficiency.track("Focus OUT",$(this))})});$("#"+RegistrationLayer.config.formName+" textarea").each(function(a){$(this).focusin(function(){RegistrationLayer.trackFieldEfficiency.track("Focus IN",$(this))});$(this).blur(function(){RegistrationLayer.trackFieldEfficiency.track("Focus OUT",$(this))})})}},config:{allowSubmitWithoutValidation:"N",trackErrors:"Y",formEfficiencyTracking:"N",formName:"layer_frm_registration",prefix:"layer_"},init:function(a){$.extend(RegistrationLayer.config,a)}};function regFormInit(a){$('[name="confirm_policy"][type="hidden"]').remove();a.validate.resetErrorState();var b=new Array();b=a.config.nriCountries.split(",");if($.inArray(a.config.ipCountry,b)!==-1){label.mother_tongue="<b>Community:</b> "}if($("#"+a.config.formName).attr("frmregab")){var c="reg_tooltip_wrapper"}else{var c="hint_wrapper"}$("#"+a.config.formName+" ."+c).each(function(d,j){var k=$(j).parent().parent().attr("id");if($(this).hasClass("reg_tooltip_wrapper")){var g=k.replace("reg_","")}else{var g=k.replace("hint_","")}if(g==="dateofbirth"||g===a.config.prefix+"dateofbirth"){var h=[a.config.prefix+"day",a.config.prefix+"month",a.config.prefix+"year"]}else{var h=[g]}$.each(h,function(l,m){if(m=="gender"||m==a.config.prefix+"gender"){var e="#"+a.config.formName+" input[name=gender]"}else{var e="#"+a.config.formName+" #"+m+""}if(typeof jq1_11!="undefined"&&$(e).is("select")){var n=jq1_11(e)}else{var n=$(e)}g=n.attr("name");if(a.config.select2=="Y"&&n.is("select")){n.on("select2-focus",function(q){if(g=="day"||g=="month"||g=="year"){g="dateofbirth"}if(a.validate.errorState[g]){if($("#errmsg_"+a.config.prefix+g).html()==""){if(typeof aMessages[g]["blank"]=="string"){var o=aMessages[g]["blank"]}else{var o=aMessages[g]["blank"]["Default"]}}var p=$("#"+a.config.formName+" #"+a.config.prefix+"postedby").val();if(p&&aMessages[g][a.validate.errorState[g]][p]!=undefined){var o=aMessages[g][a.validate.errorState[g]][p]}if(o){$("#errmsg_"+a.config.prefix+g).html(label[g]+o)}$("#error_"+a.config.prefix+g).show();a.validate.setPositions(g)}else{var r=tooltips[g]["Default"];var p=$("#"+a.config.formName+" #"+a.config.prefix+"postedby").val();if(p&&tooltips[g][p]!=undefined){var r=tooltips[g][p]}if(c=="reg_tooltip_wrapper"){$("#"+k+" div div.reg_tooltip_wrapper").html('<div class="reg_layer_left_arrow"></div>'+label[g]+r)}else{$("#"+k+" div div.hint_wrapper").html(label[g]+r)}$("#"+k).show();a.validate.setPositions(g)}});n.on("select2-blur",function(p){if(a.validate.errorState[g]){if($("#"+a.config.formName).attr("frmregab")){var o="reg_"}else{var o="error_"}if(g=="email"){setTimeout(function(){$("#"+o+a.config.prefix+g).hide()},250)}else{$("#"+o+RegistrationLayer.config.prefix+g).hide()}}else{$("#"+k).hide()}})}else{n.focus(function(){if(g=="day"||g=="month"||g=="year"){g="dateofbirth"}if(a.validate.errorState[g]){if($("#errmsg_"+a.config.prefix+g).html()==""){if(typeof aMessages[g]["blank"]=="string"){var o=aMessages[g]["blank"]}else{var o=aMessages[g]["blank"]["Default"]}}var p=$("#"+a.config.formName+" #"+a.config.prefix+"postedby").val();if(p&&aMessages[g][a.validate.errorState[g]][p]!=undefined){var o=aMessages[g][a.validate.errorState[g]][p]}if(o){$("#errmsg_"+a.config.prefix+g).html(label[g]+o)}$("#error_"+a.config.prefix+g).show();a.validate.setPositions(g)}else{var q=tooltips[g]["Default"];var p=$("#"+a.config.formName+" #"+a.config.prefix+"postedby").val();if(p&&tooltips[g][p]!=undefined){var q=tooltips[g][p]}if(c=="reg_tooltip_wrapper"){$("#"+k+" div div.reg_tooltip_wrapper").html('<div class="reg_layer_left_arrow"></div>'+label[g]+q)}else{$("#"+k+" div div.hint_wrapper").html(label[g]+q)}$("#"+k).show();a.validate.setPositions(g)}});n.blur(function(){if(a.validate.errorState[g]){if(g=="email"){setTimeout(function(){$("#error_"+a.config.prefix+g).hide()},250)}else{$("#error_"+a.config.prefix+g).hide()}}else{$("#"+k).hide()}})}})});if($(".disabled-detector").size()>0){$(".disabled-detector").click(function(d){d.stopPropagation();if($("#"+a.config.formName).attr("frmregab")){$("#reg_"+a.config.prefix+"mother_tongue").find(".reg_tooltip_wrapper").html('<div class="reg_layer_left_arrow"></div>'+label.mother_tongue+"To create a profile with mother tongue other than "+$("#mother_tongue").val()+' visit <a href="'+SHAADI_HTTP_URL+'">Shaadi.com</a>').show();$("#reg_"+a.config.prefix+"mother_tongue").show()}else{$("#errmsg_"+a.config.prefix+"mother_tongue").html(label.mother_tongue+"To create a profile with mother tongue other than "+$("#mother_tongue").val()+' visit <a href="'+SHAADI_HTTP_URL+'">Shaadi.com</a>').show();$("#error_"+a.config.prefix+"mother_tongue").show()}a.validate.setPositions("mother_tongue")});$("html").click(function(){$("#error_"+a.config.prefix+"mother_tongue").hide()})}$(".placeholder").each(function(){var e=$(this);var d=e.attr("name");if(typeof aPlaceholders[d]!="string"&&$.isArray(aPlaceholders[d])){if(e.data("placeholder")==undefined){e.data("placeholder",aPlaceholders[d][0])}}e.focus(function(){var g=$(this);if(typeof aPlaceholders[d]!="string"&&$.isArray(aPlaceholders[d])){if($.inArray(g.val(),aPlaceholders[d])!==-1){g.val("")}g.removeClass("reg_form_placeholder")}}).blur(function(){if(e.val()==""){e.val(e.data("placeholder"));e.addClass("reg_form_placeholder")}});if(typeof aPlaceholders[d]!="string"&&$.isArray(aPlaceholders[d])){if($.inArray(e.val(),aPlaceholders[d])!==-1){e.addClass("reg_form_placeholder")}}});$("#"+a.config.prefix+"contact_type_tel").click(function(){a.validate.errorState[a.config.prefix+"contact_mobile_std"]=false;a.validate.errorState[a.config.prefix+"contact_mobile_number"]=false;$("#"+a.config.prefix+"contact_mobile_wrap_div2").hide();$("#"+a.config.prefix+"contact_tele_wrap_div2").show();$(this).hide();$("#"+a.config.prefix+"contact_type_mobile").show();$("#"+a.config.prefix+"contact_mobile_std").val($("#"+a.config.prefix+"contact_mobile_std").data("placeholder"));$("#"+a.config.prefix+"contact_mobile_number").val($("#"+a.config.prefix+"contact_mobile_number").data("placeholder"));a.validate.hideError("contact_mobile_std");a.validate.hideError("contact_mobile_number");a.validate.hideError("contact_tel_std");a.validate.hideError("contact_tel_number")});$("#"+a.config.prefix+"contact_type_mobile").click(function(){a.validate.errorState[a.config.prefix+"contact_tel_std"]=false;a.validate.errorState[a.config.prefix+"contact_tel_number"]=false;$("#"+a.config.prefix+"contact_mobile_wrap_div2").show();$("#"+a.config.prefix+"contact_tele_wrap_div2").hide();$(this).hide();$("#"+a.config.prefix+"contact_type_tel").show();$("#"+a.config.prefix+"contact_tel_std").val($("#"+a.config.prefix+"contact_tel_std").data("placeholder"));$("#"+a.config.prefix+"contact_tel_number").val($("#"+a.config.prefix+"contact_tel_number").data("placeholder"));a.validate.hideError("contact_mobile_std");a.validate.hideError("contact_mobile_number");a.validate.hideError("contact_tel_std");a.validate.hideError("contact_tel_number")});$(".validate").each(function(d,g){$(this).blur(function(){var j=$(this);var e=j.attr("name");var h=j.val();if(e!="confirm_policy"){if(!(a.config.select2=="Y"&&j.is("select"))||a.config.prefix=="layer_"){a.validate[e](h)}}}),$(this).change(function(){var j=$(this);var e=j.attr("name");var h=j.val();if(e=="day"||e=="month"||e=="year"){e="dateofbirth"}$("#error_"+a.config.prefix+e).css("display","none");$("#hint_"+a.config.prefix+e).css("display","none");$("#reg_"+a.config.prefix+e).css("display","none");if(e!="dateofbirth"){a.validate[e](h)}})});$(function(){var e,d;$(document).mousedown(function(g){e=$(g.target)});$(document).mouseup(function(g){e=null});$("#"+a.config.prefix+"day, #"+a.config.prefix+"month").blur(function(g){d=$(g.target)});$("#"+a.config.prefix+"year").blur(function(g){d=null});$("#"+a.config.prefix+"day, #"+a.config.prefix+"month, #"+a.config.prefix+"year").blur(function(h){if(e){var g=e.attr("tagName").toLowerCase();if(g=="option"){var j=e.parent().attr("id").toLowerCase()}else{var j=e.attr("id").toLowerCase()}if(j==a.config.prefix+"day"||j==a.config.prefix+"month"||j==a.config.prefix+"year"){a.validate.hideError("dateofbirth");a.validate.errorState.dateofbirth=false}}else{if(d){a.validate.hideError("dateofbirth");a.validate.errorState.dateofbirth=false}}})});if(a.config.select2=="Y"){$("#"+a.config.formName+" select").each(function(d){if($("#"+a.config.formName).attr("frmregab")=="true"){jq1_11(this).select2({minimumResultsForSearch:-1}).on("change",function(){$(this).trigger("change")});if(typeof PLATFORM!="undefined"&&PLATFORM=="mobile"){$(".reg_layer_frm_wrap .select2-container input").remove()}if(jq1_11(this).hasClass("validate")){jq1_11(this).on("select2-blur",function(g){a.validate[$(this).attr("name")]($(this).val())})}}else{$(this).select2();if($(this).hasClass("validate")){$(this).on("select2-blur",function(g){a.validate[$(this).attr("name")]($(this).val())})}}aSelect2Elements.push($(this).attr("id"))})}$("#"+a.config.formName+" input[name='gender']").change(function(){a.validate.gender($(this).val());$("#error_"+a.config.prefix+"gender").hide()});$.each([a.config.prefix+"postedby",a.config.prefix+"mother_tongue",a.config.prefix+"countryofresidence"],function(d,g){var e="#"+g;$(e).change(function(){if($(e+" option:selected").text().indexOf("Show More")!=-1){var h=$(e+" option").first().text();if($("#loading_"+g).length>0){$(e+"_error").hide();$("#loading_"+g).html('<img src="'+IMG_HTTP_URL+'/imgs/profiles/ver2/loading.gif" height="15" width="15" border="0" alt="Loading" title="Loading">')}setTimeout(function(){if(typeof jq1_11!="undefined"){jq1_11(e).html($(e).data("allOptions"));jq1_11(e).select2("val",$(e+" option:eq(0)").val())}else{$(e).html($(e).data("allOptions"));$(e+" option").first().text(h)}$("#loading_"+g).html("");$(e+"_error").show()},0.1);return false}else{if(g=="countryofresidence"||g=="layer_countryofresidence"){a.country.residenceChange($("#"+a.config.formName+" #"+a.config.prefix+"countryofresidence option:selected").text())}}})});$("#"+a.config.formName+" #"+a.config.prefix+"country_code").attr("data",$("#"+a.config.formName+" #"+a.config.prefix+"country_code").val());$("#"+a.config.formName+" #"+a.config.prefix+"country_code").blur(function(){$(this).change()});$("#"+a.config.formName+" #"+a.config.prefix+"country_code").change(function(){var d=$("#"+a.config.formName+" #"+a.config.prefix+"country_code option:selected").val().split("|")[1];a.country.countryCodeChange(d);if($.browser.msie&&$.browser.version<9){$(this).addClass("reg_country_code").removeClass("reg_country_code_open")}});$("#"+a.config.formName+" #"+a.config.prefix+"country_code").mousedown(function(){arr=$("#"+$(this).attr("id")+" option:selected").attr("value").split("|");if($.browser.msie&&$.browser.version<9){$(this).addClass("reg_country_code_open").removeClass("reg_country_code")}if($("#"+$(this).attr("id")).length>0){document.getElementById($(this).attr("id")).options[document.getElementById($(this).attr("id")).selectedIndex].text=arr[1]+" ("+arr[0]+")";if(!$.browser.msie){document.getElementById($(this).attr("id")).options[document.getElementById($(this).attr("id")).selectedIndex].label=arr[1]+" ("+arr[0]+")"}}});if($("#"+a.config.formName+" #"+a.config.prefix+"country_code").length){$("#"+a.config.formName+" #"+a.config.prefix+"country_code").change()}$("#centralizedBtnSubmitWrapper #btnSubmit").unbind("click").click(function(d){if(typeof trackRegOne!="undefined"){if(!$("#reg2fields").is(":visible")){trackRegOne("reg_11_next_clicked")}else{trackRegOne("reg_12_submit_clicked")}}$("#"+a.config.formName).submit()});$("#"+a.config.formName).unbind("submit").submit(function(){a.validate.resetErrorState();chk_form_submit=true;var j=true;a.validate.errorStack=[];$("#"+a.config.formName+" .validate:visible").each(function(l,n){var o=$(this);var k=o.attr("name");var m=o.val();if(!o.is("div")){a.validate[k](m)}});for(f in a.validate.errorState){if(a.validate.errorState[f]){j=false}}if(a.config.trackErrors=="Y"){var e="";$(a.validate.errorStack).each(function(k,l){e+="<!-- "+l.field+"-->"+l.errmsg});if(!j){$.ajax({type:"GET",url:NORMALSERVER+"/registration/ajax/track-errors",dataType:"json",data:{errors:e},success:function(k){}});if(a.config.allowSubmitWithoutValidation=="Y"){if(!a.validate.errorState[a.config.prefix+"confirm_policy"]){return true}else{chk_form_submit=false;return false}}else{chk_form_submit=false;return false}}}else{if(a.config.allowSubmitWithoutValidation=="Y"){if(!a.validate.errorState[a.config.prefix+"confirm_policy"]){return true}else{chk_form_submit=false;return false}}}if($("#"+a.config.formName).attr("frmregab")=="true"){$("#reg1fields").hide();$("#regpageabheading").html("<span class='reg_msg1'>Tell us more about yourself</span>");$("#layer_first_name").addClass("f_name");$("#layer_last_name").addClass("l_name");$("#"+a.config.formName).attr("frmregab","false");var h=$("#"+a.config.formName+" input[name='gender']:checked").val()=="Male"?"His":"Her";var d=$("#"+a.config.formName+" input[name='gender']:checked").val()=="Male"?"him":"her";var g=$("#"+a.config.formName+" #layer_postedby").val();if(g!="Self"){$("#"+a.config.formName+" .herhim").each(function(){$(this).html(h+" "+$(this).html())});$("#regpageabheading").html("<span class='reg_msg1'>Tell us more about "+d+"<span>")}$("#reg2fields").show();if(typeof trackRegOne!="undefined"){trackRegOne("reg_12_displayed")}return false}});$("#"+a.config.formName+" input[name='gender']").click(a.helper.populateYearBasedOnGender);$("#"+a.config.prefix+"postedby").change(function(){var g=$(this).val();var d=$("#"+a.config.formName+" #"+a.config.prefix+"gender-Male");var e=$("#"+a.config.formName+" #"+a.config.prefix+"gender-Female");if(d.parent().hasClass("deactivate")){d.parent().removeClass("deactivate")}if(e.parent().hasClass("deactivate")){e.parent().removeClass("deactivate")}if(g=="Self"||g=="Friend"||g=="Relative"||g==""){e.removeAttr("disabled","");d.removeAttr("disabled","");d.removeAttr("checked");e.removeAttr("checked");if(typeof(GENDER_ON_SEARCH)!="undefined"&&GENDER_ON_SEARCH!=""){if(GENDER_ON_SEARCH=="Female"){e.attr("checked","checked")}else{d.attr("checked","checked")}}}else{if(g=="Son"||g=="Brother"){d.removeAttr("disabled");e.attr("disabled","disabled");d.attr("checked","checked");e.parent().addClass("deactivate")}else{if(g=="Daughter"||g=="Sister"){e.removeAttr("disabled");d.attr("disabled","disabled");e.attr("checked","checked");d.parent().addClass("deactivate")}}}a.helper.populateYearBasedOnGender();if(g=="Son"||g=="Brother"||g=="Daughter"||g=="Sister"){a.validate.gender()}});$("#"+a.config.prefix+"password1").live("keyup",function(){var d=$(this);if(d.val()!=""){$("#pwd_typed").text(d.val());$("#display_pwd").show()}});$("#"+a.config.prefix+"password1").live("blur",function(){$("#display_pwd").hide()});$("#"+a.config.prefix+"password1.placeholder").bind("focus.replace",function(){a.helper.replacePassword($("#"+a.config.prefix+"password1.placeholder")[0]);$("#"+a.config.prefix+"password1.placeholder")[0].value=""});$(".numonly").keydown(function(d){if($.inArray(d.keyCode,[46,8,9,27,13,190])!==-1||(d.keyCode==65&&d.ctrlKey===true)||(d.keyCode>=35&&d.keyCode<=39)){return}else{if(d.shiftKey||(d.keyCode<48||d.keyCode>57)&&(d.keyCode<96||d.keyCode>105)){d.preventDefault()}}});$(".numonly").keyup(function(d){if(parseInt(this.value)===0){this.value=""}});$(".alphaonly").bind("blur",function(g,d){$(this).val($(this).val().replace(/[^a-zA-Z\s \']/g,""))});$(".alphaonly").bind("keyup",function(g,d){if(!(g.keyCode>=65&&g.keyCode<=90)){if($.inArray(g.keyCode,[37,8,46,39,16])==-1){$(this).val($(this).val().replace(/[^a-zA-Z\s \']/g,""))}}});a.trackFieldEfficiency.bindTrackFieldEfficiency()}function set_max_length(b,a){int_max_length_number="10";arr_country_number=Array();arr_country_number.China="11";arr_country_number.Germany="11";arr_country_number.USA="10";arr_country_number.Canada="10";arr_country_number.India="10";arr_country_number["United Kingdom"]="10";arr_country_number.Malaysia="11";arr_country_number.Indonesia="12";arr_country_number.Austria="12";arr_country_number.Brazil="11";if(b!=""){if(arr_country_number[b]){int_max_length_number=arr_country_number[b]}}$("#"+a+"contact_mobile_number").attr("maxlength",int_max_length_number);if($("#"+a+"country_code").attr("data")!=$("#"+a+"country_code").val()){$("#"+a+"contact_mobile_number").attr("value","Mobile No.")}$("#"+a+"country_code").attr("data",$("#"+a+"country_code").val())}function changeMotherTongue(a){if(a){if($("#layer_mother_tongue").length){defaultText=$("select#layer_mother_tongue option:first-child").text()}else{defaultText=$("select#mother_tongue option:first-child").text()}$.ajax({type:"POST",url:NORMALSERVER+"/registration/ajax/get-nri-plus-mother-tongue",data:{religion:a,default_option:defaultText},success:function(b){if($("#layer_mother_tongue").length){$("#layer_mother_tongue").html(b)}else{$("#mother_tongue").html(b)}}})}}(function(){var a={init:function(){$("#errmsg_email").live("mouseenter",function(){$("#hint_email").hide();$("#errmsg_email").live("blur","focusout",function(){return false})});$("#errmsg_email").live("mouseleave",function(){$("#errmsg_email").live("blur","focusout",function(){return true})});$("#errmsg_email").find("a[href*='/registration/user/login']").live("mousedown",function(){var b=$(this).attr("href");location.href=b})}};a.init()})();function forgotPasswordSubmit(){var b=$("#frmforgotpassword");var d=b.find("#forgotpasswordemail").val();var c=true;var a=b.attr("frompage");b.find("#err_text_forgotpasswordemail").hide();oRegX=new RegExp(/^[\w_-]+(\.[\w_-]+)*@[\w_-]+(\.[\w_-]+)*\.\w{2,4}$/gi);if(d==""||!oRegX.test(d)){showForgotPasswordError(b)}else{$.ajax({type:"POST",url:NORMALSERVER+"/ajax/forgot-password-submit",data:{email:d},dataType:"json",success:function(e){if(e.messageCode=="member_not_found"||e.messageCode=="invalid_email"){showForgotPasswordError(b)}else{if(e.messageCode=="deactivated"){$("#reg_layer_forgot_password_box").hide();if(typeof PLATFORM!="undefined"&&PLATFORM!="mobile"){$("#modalContent_login,#login_box").width("750px");$("#modalContent_login,#login_box").height("530px");if(a!="homepage"){$("#modalContent_login #login_box").addClass("alert_main_wrap")}XYpos=getXY("modalContent_login");topval=XYpos[1];leftval=XYpos[0];$(".blockPage").css({top:topval+"px",left:leftval+"px"})}if(a!="homepage"){$("#modalContent_login #login_box").prepend('<div class="reg_layer_close" onclick="window.location.href = \''+NORMALSERVER+"'\"></div>")}$("#reg_layer_deactivated_box").show()}else{$("#reg_layer_forgot_password_box").hide();$("#reg_layer_thankyou_box").find("#sentemailid").html(d);$("#reg_layer_thankyou_box").show("fast",function(){setTimeout(function(){$("#reg_layer_thankyou_box").hide();$("#reg_layer_login_box").show()},5000)})}}}})}return false}function showForgotPasswordError(a){a.find("#info_email").hide();a.find("#forgotpasswordemail").addClass("common_error");a.find("#err_text_forgotpasswordemail .err_text").html("Please enter the email that you are registered with.");a.find("#err_text_forgotpasswordemail").show()};